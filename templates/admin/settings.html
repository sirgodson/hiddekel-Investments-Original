{% extends "admin/base.html" %}

{% block title %}Site Settings - Admin{% endblock %}

{% block page_title %}Site Settings{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h5 class="card-title mb-0">Website Configuration</h5>
    </div>
    <div class="card-body">
        <form method="POST" enctype="multipart/form-data">
            <!-- Logo Upload Section -->
            <div class="mb-4">
                <h6>Site Logo</h6>
                {% if settings.get('site_logo') %}
                    <div class="current-logo mb-3">
                        <img src="{{ url_for('main.uploaded_file', filename=settings.get('site_logo')) }}" 
                             alt="Current Logo" style="max-height: 100px;" class="img-thumbnail">
                        <p class="text-muted mt-2">Current Logo</p>
                    </div>
                {% endif %}
                <div class="mb-3">
                    <label for="site_logo" class="form-label">Upload New Logo</label>
                    <input type="file" class="form-control" name="site_logo" id="site_logo" 
                           accept="image/*">
                    <small class="form-text text-muted">Recommended size: 300x150px or similar ratio</small>
                </div>
            </div>
            
            <hr class="my-4">
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="site_title" class="form-label">Site Name</label>
                    <input type="text" class="form-control" name="site_title" id="site_title" 
                           value="{{ settings.get('site_title', 'Hiddekel Investments') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="site_tagline" class="form-label">Tagline</label>
                    <input type="text" class="form-control" name="site_tagline" id="site_tagline" 
                           value="{{ settings.get('site_tagline', 'We are the land developers of choice.') }}">
                </div>
            </div>
            
            <div class="mb-3">
                <label for="site_description" class="form-label">Site Description</label>
                <textarea class="form-control" name="site_description" id="site_description" rows="3">{{ settings.get('site_description', '') }}</textarea>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="contact_email" class="form-label">Contact Email</label>
                    <input type="email" class="form-control" name="contact_email" id="contact_email" 
                           value="{{ settings.get('contact_email', 'info@hiddekel.org') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="contact_phone" class="form-label">Contact Phone</label>
                    <input type="text" class="form-control" name="contact_phone" id="contact_phone" 
                           value="{{ settings.get('contact_phone', '+263 716 236 518') }}">
                </div>
            </div>
            
            <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" name="address" id="address" 
                       value="{{ settings.get('address', 'Suite 13, Merchant House, Harare') }}">
            </div>
            
            <hr class="my-4">
            
            <h6>Social Media Links</h6>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="facebook_url" class="form-label">Facebook URL</label>
                    <input type="url" class="form-control" name="facebook_url" id="facebook_url" 
                           value="{{ settings.get('facebook_url', '') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="twitter_url" class="form-label">Twitter URL</label>
                    <input type="url" class="form-control" name="twitter_url" id="twitter_url" 
                           value="{{ settings.get('twitter_url', '') }}">
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="linkedin_url" class="form-label">LinkedIn URL</label>
                    <input type="url" class="form-control" name="linkedin_url" id="linkedin_url" 
                           value="{{ settings.get('linkedin_url', '') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="instagram_url" class="form-label">Instagram URL</label>
                    <input type="url" class="form-control" name="instagram_url" id="instagram_url" 
                           value="{{ settings.get('instagram_url', '') }}">
                </div>
            </div>
            
            <hr class="my-4">
            
            <h6>Email Settings</h6>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="smtp_server" class="form-label">SMTP Server</label>
                    <input type="text" class="form-control" name="smtp_server" id="smtp_server" 
                           value="{{ settings.get('smtp_server', '') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="smtp_port" class="form-label">SMTP Port</label>
                    <input type="number" class="form-control" name="smtp_port" id="smtp_port" 
                           value="{{ settings.get('smtp_port', '587') }}">
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="smtp_username" class="form-label">SMTP Username</label>
                    <input type="text" class="form-control" name="smtp_username" id="smtp_username" 
                           value="{{ settings.get('smtp_username', '') }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="smtp_password" class="form-label">SMTP Password</label>
                    <input type="password" class="form-control" name="smtp_password" id="smtp_password" 
                           value="{{ settings.get('smtp_password', '') }}">
                </div>
            </div>
            
            <div class="d-grid">
                <button type="submit" class="btn btn-primary">Save Settings</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}